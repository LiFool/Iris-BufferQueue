<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Thu May 08 01:05:15 GMT+05:30 2014 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
MappedBufferQueue (Iris-BufferQueue 0.1 API)
</TITLE>

<META NAME="date" CONTENT="2014-05-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MappedBufferQueue (Iris-BufferQueue 0.1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MappedBufferQueue.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueueFactory.html" title="class in com.flipkart.iris.bufferqueue.mmapped"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MappedBufferQueue.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.flipkart.iris.bufferqueue.mmapped</FONT>
<BR>
Class MappedBufferQueue</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.flipkart.iris.bufferqueue.mmapped.MappedBufferQueue</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>MappedBufferQueue</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></DL>
</PRE>

<P>
A BufferQueue implementation using a memory mapped file.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue"><CODE>BufferQueue</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#MAX_MAX_DATA_LENGTH">MAX_MAX_DATA_LENGTH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum value of the max data length that can be set.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#SYNC_INTERVAL">SYNC_INTERVAL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number of milliseconds to wait between syncing the cursors to
 the header.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#capacity()">capacity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferQueue implementations may have a upper limit on the number of
 unconsumed messages they will hold.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;com.google.common.base.Optional&lt;<A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue">BufferQueueEntry</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#consume()">consume</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the next consumable entry from the BufferQueue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue">BufferQueueEntry</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#consume(int)">consume</A></B>(int&nbsp;n)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the next (up to) <code>n</code> consumable entries from the BufferQueue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#forwardReadCursor()">forwardReadCursor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#isEmpty()">isEmpty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if the BufferQueue has any consumable entries.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#isFull()">isFull</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if the BufferQueue is "full" that is if it has any more
 capacity to accept newer entries before any more entries are
 consumed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#maxDataLength()">maxDataLength</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BufferQueue implementations may have a max size of data that they accept.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;com.google.common.base.Optional&lt;<A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue">BufferQueueEntry</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#next()">next</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Claim the next entry in the buffer queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#publish(byte[])">publish</A></B>(byte[]&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A higher level helper method to do all the 3-steps of publishing
 to the BufferQueue in a single method call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#size()">size</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of unconsumed entries that this BufferQueue currently
 holds.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MAX_MAX_DATA_LENGTH"><!-- --></A><H3>
MAX_MAX_DATA_LENGTH</H3>
<PRE>
public static final int <B>MAX_MAX_DATA_LENGTH</B></PRE>
<DL>
<DD>Maximum value of the max data length that can be set.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html#format(java.nio.ByteBuffer, int)"><CODE>format(java.nio.ByteBuffer, int)</CODE></A>, 
<A HREF="../../../../../constant-values.html#com.flipkart.iris.bufferqueue.mmapped.MappedBufferQueue.MAX_MAX_DATA_LENGTH">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SYNC_INTERVAL"><!-- --></A><H3>
SYNC_INTERVAL</H3>
<PRE>
public static final long <B>SYNC_INTERVAL</B></PRE>
<DL>
<DD>Number of milliseconds to wait between syncing the cursors to
 the header. If the application crashes, messages corresponding to
 the unsynced cursors may be lost.
<P>
<DL>
<DT><B>See Also:</B><DD><CODE>MappedBufferQueue.HeaderSyncThread</CODE>, 
<A HREF="../../../../../constant-values.html#com.flipkart.iris.bufferqueue.mmapped.MappedBufferQueue.SYNC_INTERVAL">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="maxDataLength()"><!-- --></A><H3>
maxDataLength</H3>
<PRE>
public int <B>maxDataLength</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#maxDataLength()">BufferQueue</A></CODE></B></DD>
<DD>BufferQueue implementations may have a max size of data that they accept.
 Attempting to data with sizes greater than this will result in a
 <A HREF="http://docs.oracle.com/javase/6/docs/api/java/nio/BufferOverflowException.html?is-external=true" title="class or interface in java.nio"><CODE>BufferOverflowException</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#maxDataLength()">maxDataLength</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The maximum length of data this BufferQueue can accomodate.</DL>
</DD>
</DL>
<HR>

<A NAME="next()"><!-- --></A><H3>
next</H3>
<PRE>
public com.google.common.base.Optional&lt;<A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue">BufferQueueEntry</A>&gt; <B>next</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#next()">BufferQueue</A></CODE></B></DD>
<DD>Claim the next entry in the buffer queue.

 Important: The publisher **must** call <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markPublished()"><CODE>BufferQueueEntry.markPublished()</CODE></A>
 on the returned <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue"><CODE>BufferQueueEntry</CODE></A>, otherwise no consumer
 will be able to move past this point.

 <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markPublished()"><CODE>BufferQueueEntry.markPublished()</CODE></A> **must** be called even if writing data
 to the buffer failed. It is recommended that this method be called in a
 <code>finally</code> block; for example:

 <code>
      BufferQueueEntry entry = bufferQueue.next();
      try {
          // entry.set(data);
      }
      finally {
          entry.markPublished();
      }
 </code>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#next()">next</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The claimed entry. The reference will be absent in the Optional
          if claiming failed (may happen if the buffer is full, for example).<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markPublished()"><CODE>BufferQueueEntry.markPublished()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="publish(byte[])"><!-- --></A><H3>
publish</H3>
<PRE>
public boolean <B>publish</B>(byte[]&nbsp;data)
                throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/nio/BufferOverflowException.html?is-external=true" title="class or interface in java.nio">BufferOverflowException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#publish(byte[])">BufferQueue</A></CODE></B></DD>
<DD>A higher level helper method to do all the 3-steps of publishing
 to the BufferQueue in a single method call. This claims a new entry,
 writes data to the entry and then marks it as published.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#publish(byte[])">publish</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - The data to publish as an entry.
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/nio/BufferOverflowException.html?is-external=true" title="class or interface in java.nio">BufferOverflowException</A></CODE> - If the given data does not fit in a single entry.<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#next()"><CODE>BufferQueue.next()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="forwardReadCursor()"><!-- --></A><H3>
forwardReadCursor</H3>
<PRE>
public long <B>forwardReadCursor</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="consume()"><!-- --></A><H3>
consume</H3>
<PRE>
public com.google.common.base.Optional&lt;<A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue">BufferQueueEntry</A>&gt; <B>consume</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#consume()">BufferQueue</A></CODE></B></DD>
<DD>Return the next consumable entry from the BufferQueue.

 Note that until the returned entry is marked as consumed, the same
 entry will be returned for each call, even if different threads make
 the call.

 Thus consumers **must** call <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markConsumed()"><CODE>BufferQueueEntry.markConsumed()</CODE></A> on the returned
 <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue"><CODE>BufferQueueEntry</CODE></A>. It is recommended that this method be
 called in a <code>finally</code> block; for example:

 <code>
      BufferQueueEntry entry = bufferQueue.consume();
      try {
          // consume the data from entry
      }
      finally {
          entry.markConsumed();
      }
 </code>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#consume()">consume</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The consumable <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue"><CODE>BufferQueueEntry</CODE></A>, null if
          no consumable entries are currently available or if the next
          entry is corrupted for any unknown reason.<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html#markConsumed()"><CODE>BufferQueueEntry.markConsumed()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="consume(int)"><!-- --></A><H3>
consume</H3>
<PRE>
public <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</A>&lt;<A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueueEntry.html" title="class in com.flipkart.iris.bufferqueue">BufferQueueEntry</A>&gt; <B>consume</B>(int&nbsp;n)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#consume(int)">BufferQueue</A></CODE></B></DD>
<DD>Return the next (up to) <code>n</code> consumable entries from the BufferQueue.

 Less than <code>n</code> entries (including <code>zero</code> entries) may be
 returned based on how many entries are currently available.

 The same set of contracts as specified in <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#consume()"><CODE>BufferQueue.consume()</CODE></A> apply to this
 method as well.

 The returned messages may be marked as consumed out of order. This allows the
 consumer to parallelize consumption of the messages (over a thread-pool, for
 example).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#consume(int)">consume</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>n</CODE> - The number of entries to return.
<DT><B>Returns:</B><DD>A list of up to <code>n</code> entries.<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#consume()"><CODE>BufferQueue.consume()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="capacity()"><!-- --></A><H3>
capacity</H3>
<PRE>
public long <B>capacity</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#capacity()">BufferQueue</A></CODE></B></DD>
<DD>BufferQueue implementations may have a upper limit on the number of
 unconsumed messages they will hold. This limit is referred to as its
 capacity.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#capacity()">capacity</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The max number of unconsumed messages this BufferQueue will hold.</DL>
</DD>
</DL>
<HR>

<A NAME="size()"><!-- --></A><H3>
size</H3>
<PRE>
public long <B>size</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#size()">BufferQueue</A></CODE></B></DD>
<DD>Returns the number of unconsumed entries that this BufferQueue currently
 holds.

 This number may be returned on a "best-effort" basis and may only be
 indicative instead of being accurate. This happens mainly because there
 may be claimed but as yet unpublished entries as well as entries that
 have been marked as consumed out of order (when using bulk consumption).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#size()">size</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The current -- approximate -- size of the queue.</DL>
</DD>
</DL>
<HR>

<A NAME="isFull()"><!-- --></A><H3>
isFull</H3>
<PRE>
public boolean <B>isFull</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#isFull()">BufferQueue</A></CODE></B></DD>
<DD>Check if the BufferQueue is "full" that is if it has any more
 capacity to accept newer entries before any more entries are
 consumed.

 For certain implementations of BufferQueue it may be more efficient
 to call this method than call figure this out by calling
 <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#capacity()"><CODE>BufferQueue.capacity()</CODE></A> and <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#size()"><CODE>BufferQueue.size()</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#isFull()">isFull</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the BufferQueue is full, <code>false</code> otherwise<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#capacity()"><CODE>BufferQueue.capacity()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isEmpty()"><!-- --></A><H3>
isEmpty</H3>
<PRE>
public boolean <B>isEmpty</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#isEmpty()">BufferQueue</A></CODE></B></DD>
<DD>Check if the BufferQueue has any consumable entries. This may be
 an approximation and it is possible that even if this returns true
 there are no consumable entries or vice versa.

 For certain implementations of BufferQueue it may be more efficient
 to call this method than call figure this out by calling <A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#size()"><CODE>BufferQueue.size()</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#isEmpty()">isEmpty</A></CODE> in interface <CODE><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html" title="interface in com.flipkart.iris.bufferqueue">BufferQueue</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if the BufferQueue is empty, <code>false</code> otherwise<DT><B>See Also:</B><DD><A HREF="../../../../../com/flipkart/iris/bufferqueue/BufferQueue.html#size()"><CODE>BufferQueue.size()</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MappedBufferQueue.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueueFactory.html" title="class in com.flipkart.iris.bufferqueue.mmapped"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/flipkart/iris/bufferqueue/mmapped/MappedBufferQueue.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MappedBufferQueue.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2014. All rights reserved.
</BODY>
</HTML>
